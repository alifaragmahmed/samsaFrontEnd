{"version":3,"sources":["webpack:///./src/app/auth/auth-routing.module.ts","webpack:///./src/app/auth/auth.module.ts","webpack:///./src/app/auth/components/login/login.component.html","webpack:///./src/app/auth/components/login/login.component.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAuC;AACc;AACa;AAClE,IAAM,MAAM,GAAW;IACrB,EAAC,IAAI,EAAE,OAAO,EAAE,SAAS,EAAE,gFAAc,EAAC;CAC3C,CAAC;AAMF;IAAA;IACA,CAAC;IADY,iBAAiB;QAJ7B,8DAAQ,CAAC;YACR,OAAO,EAAE,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;YACxC,OAAO,EAAE,CAAC,4DAAY,CAAC;SACxB,CAAC;OACW,iBAAiB,CAC7B;IAAD,wBAAC;CAAA;AAD6B;;;;;;;;;;;;;;;;;;;;;ACXS;AACiB;AACU;AACb;AAUrD;IAAA;IACA,CAAC;IADY,UAAU;QATtB,8DAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,gFAAc;aACf;YACD,OAAO,EAAE;gBACP,kEAAY;gBACZ,sEAAiB;aAClB;SACF,CAAC;OACW,UAAU,CACtB;IAAD,iBAAC;CAAA;AADsB;;;;;;;;;;;;ACbvB,2PAA2P,iCAAiC,wKAAwK,mBAAmB,gRAAgR,sBAAsB,0ZAA0Z,uDAAuD,WAAW,YAAY,gBAAgB,aAAa,cAAc,aAAa,cAAc,gCAAgC,aAAa,YAAY,2DAA2D,WAAW,YAAY,gBAAgB,aAAa,cAAc,aAAa,cAAc,gCAAgC,aAAa,YAAY,gVAAgV,qBAAqB,4U;;;;;;;;;;;;;;;;;;;;;ACA12D;AACO;AAGW;AACpB;AACI;AAMlD;IAIE,wBACU,WAAwB,EACxB,KAAqB,EACrB,MAAc;QAFd,gBAAW,GAAX,WAAW,CAAa;QACxB,UAAK,GAAL,KAAK,CAAgB;QACrB,WAAM,GAAN,MAAM,CAAQ;QALjB,aAAQ,GAAQ,EAAE,CAAC;QAQnB,gBAAW,GAAG,KAAK,CAAC;IAFxB,CAAC;IAIJ,iCAAQ,GAAR;QACE,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,SAAS,CAAC,UAAC,MAAM;YACtC,uBAAuB;QACzB,CAAC,CAAC,CAAC;IACL,CAAC;IAED,8BAAK,GAAL;QAAA,iBAwBC;QAvBC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QAExB,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,UAAC,MAAM;YACnD,IAAM,IAAI,GAAQ,MAAM,CAAC;YAEzB,IAAI,IAAI,CAAC,MAAM,IAAI,CAAC,EAAE;gBACpB,cAAc;gBACd,mDAAK,CAAC,GAAG,CAAC,yEAAW,CAAC,UAAU,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;gBAE7C,mBAAmB;gBACnB,mDAAK,CAAC,GAAG,CAAC,yEAAW,CAAC,eAAe,EAAE,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;gBAC5D,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,KAAK,EAAE,CAAC;aAC5C;iBAAM;gBACL,uDAAO,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;aAC7B;YAED,KAAI,CAAC,WAAW,GAAG,KAAK,CAAC;QAC3B,CAAC,EACD,UAAC,CAAC;YACA,uDAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YACjB,KAAI,CAAC,WAAW,GAAG,KAAK,CAAC;QAC3B,CAAC,CACF,CAAC;IACJ,CAAC;IA1CU,cAAc;QAJ1B,+DAAS,CAAC;YACT,QAAQ,EAAE,WAAW;YACrB,mHAAqC;SACtC,CAAC;+EAMuB,yEAAW;YACjB,8DAAc;YACb,sDAAM;OAPb,cAAc,CA2C1B;IAAD,qBAAC;CAAA;AA3C0B","file":"auth-auth-module.js","sourcesContent":["import {NgModule} from '@angular/core';\r\nimport {Routes, RouterModule} from '@angular/router';\r\nimport {LoginComponent} from './components/login/login.component';\r\nconst routes: Routes = [\r\n  {path: 'login', component: LoginComponent}\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AuthRoutingModule {\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {AuthRoutingModule} from './auth-routing.module';\r\nimport {LoginComponent} from './components/login/login.component';\r\nimport {SharedModule} from '../shared/shared.module'; \r\n@NgModule({\r\n  declarations: [\r\n    LoginComponent\r\n  ],\r\n  imports: [ \r\n    SharedModule,\r\n    AuthRoutingModule\r\n  ]\r\n})\r\nexport class AuthModule {\r\n}\r\n","module.exports = \"<div class=\\\"login-box\\\">\\r\\n    <div class=\\\"login-logo\\\">\\r\\n      <a href=\\\"#\\\"><b>MSA</b></a>\\r\\n    </div>\\r\\n    <!-- /.login-logo -->\\r\\n    <div class=\\\"login-box-body material-shadow\\\">\\r\\n      <p class=\\\"login-box-msg\\\">{{ 'login with account' || trans }}</p>\\r\\n   \\r\\n        <div class=\\\"form-group has-feedback\\\">\\r\\n          <input type=\\\"email\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"userAuth.email\\\" placeholder=\\\"{{ 'email' | trans }}\\\">\\r\\n          <span class=\\\"glyphicon glyphicon-envelope form-control-feedback\\\"></span>\\r\\n        </div>\\r\\n        <div class=\\\"form-group has-feedback\\\">\\r\\n          <input type=\\\"password\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"userAuth.password\\\" placeholder=\\\"{{ 'password' | trans }}\\\">\\r\\n          <span class=\\\"glyphicon glyphicon-lock form-control-feedback\\\"></span>\\r\\n        </div>\\r\\n        <div class=\\\"row\\\">\\r\\n          <div class=\\\"col-xs-8\\\">\\r\\n            <div class=\\\"checkbox icheck\\\">\\r\\n              <!--\\r\\n              <label class=\\\"\\\">\\r\\n                <div class=\\\"icheckbox_square-blue\\\" aria-checked=\\\"false\\\" aria-disabled=\\\"false\\\" style=\\\"position: relative;\\\"><input type=\\\"checkbox\\\" style=\\\"position: absolute; top: -20%; left: -20%; display: block; width: 140%; height: 140%; margin: 0px; padding: 0px; background: rgb(255, 255, 255); border: 0px; opacity: 0;\\\"><ins class=\\\"iCheck-helper\\\" style=\\\"position: absolute; top: -20%; left: -20%; display: block; width: 140%; height: 140%; margin: 0px; padding: 0px; background: rgb(255, 255, 255); border: 0px; opacity: 0;\\\"></ins></div> \\r\\n                Remember Me\\r\\n              </label>\\r\\n              -->\\r\\n            </div>\\r\\n          </div>\\r\\n          <!-- /.col -->\\r\\n          <div class=\\\"col-xs-4\\\">\\r\\n            <button type=\\\"button\\\" (click)=\\\"login()\\\" [disabled]=\\\"isSubmitted\\\" class=\\\"btn btn-primary btn-block btn-flat\\\">{{ 'Sign In' | trans }}</button>\\r\\n          </div>\\r\\n          <!-- /.col -->\\r\\n        </div> \\r\\n   \\r\\n      <!-- /.social-auth-links \\r\\n  \\r\\n      <a href=\\\"#\\\">I forgot my password</a><br>\\r\\n      <a href=\\\"register.html\\\" class=\\\"text-center\\\">Register a new membership</a>\\r\\n  -->\\r\\n    </div>\\r\\n    <!-- /.login-box-body -->\\r\\n  </div>\"","import {Component, OnInit} from '@angular/core';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\nimport {FormGroup, Validators, FormControl} from '@angular/forms';\r\nimport {IUserLogin} from '../../../shared/models/IUserLogin';\r\nimport {AuthService} from '../../../shared/services/auth.service';\r\nimport { Cache } from '../../../shared/cache';\r\nimport { Message } from '../../../shared/message';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html'\r\n})\r\nexport class LoginComponent implements OnInit {\r\n\r\n  public userAuth: any = {};\r\n  \r\n  constructor(\r\n    private authService: AuthService,\r\n    private route: ActivatedRoute,\r\n    private router: Router\r\n  ) {}\r\n \r\n  public isSubmitted = false;  \r\n\r\n  ngOnInit() {\r\n    this.route.queryParams.subscribe((params) => {\r\n      // noinspection TsLint \r\n    }); \r\n  }\r\n \r\n  login() { \r\n    this.isSubmitted = true;\r\n     \r\n    this.authService.login(this.userAuth).subscribe((result) => {\r\n        const data: any = result;\r\n\r\n        if (data.status == 1) {\r\n          // cache user \r\n          Cache.set(AuthService.USER_PRFIX, data.data);\r\n\r\n          // cache api token \r\n          Cache.set(AuthService.API_TOKEN_PRFIX, data.data.api_token);\r\n          this.router.navigate(['/']).then().catch();\r\n        } else {\r\n          Message.error(data.message);\r\n        } \r\n\r\n        this.isSubmitted = false;\r\n      },\r\n      (e) => { \r\n        Message.error(e);\r\n        this.isSubmitted = false;\r\n      }\r\n    );\r\n  }\r\n}\r\n"],"sourceRoot":""}