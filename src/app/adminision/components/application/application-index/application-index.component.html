<app-breadcrumb [breadcrumbList]="breadcrumbList"></app-breadcrumb>

<div class="w3-display-bottomleft w3-padding" style="position: fixed;z-index: 9999" >
    <button
    mat-fab color="primary"
    class="w3-large"
    routerLink="/adminision/application/create" style="margin: 5px"  >
      <span class="fa fa-plus" ></span>
    </button>
</div>
<!--

<div class="box box-primary  table-responsive" >
  <div class="box-header">
    <button class="btn btn-primary" routerLink="/adminision/application/create" style="margin: 5px"  >
      <span class="fa fa-plus" ></span> {{ "add" | trans }}
    </button>
    <button *ngIf="showRemoveButton" (click)="removeResources()" class="btn btn-danger" style="margin: 5px"  >
      <span class="fa fa-trash" ></span>
    </button>
  </div>
  <br>
</div>
-->

<div class="w3-row" style="padding: 5px;">
    <div *ngIf="isLoad" class="w3-block text-center w3-padding" >
      <i class="fa fa-spin fa-refresh w3-jumbo w3-text-indigo"></i>
    </div>
  <ng-container *ngFor="let item of resources.data" >
      <div class="{{ col }} student-list-col" >
          <div class="media material-shadow w3-white w3-padding w3-display-container student-list-item">

              <div class="w3-display-topleft w3-padding" >
                <input type="checkbox" style="margin: 0px!important" class="w3-check w3-margin" (click)="toggleFromTrash(item.id)"  >
              </div>

            <div class="media-left">
                <a href="#">
                  <img class="media-object w3-round" [src]="item.personal_photo_url"  style="width: 100px;" >
                </a>
            </div>
            <div class="media-body">
              <h4 class="media-heading">{{ item.name.substring(0, 15) }}..</h4>
              <table class="table" >
                <tr>
                  <th>{{ "academic_year" | trans }}</th>
                  <td>{{ item.academic_year? item.academic_year.name : '' }}</td>
                </tr>
                <tr>
                  <th>{{ "qualification" | trans }}</th>
                  <td>{{ item.qualification? item.qualification.name : '' }}</td>
                </tr>
                <tr>
                  <th>{{ "level" | trans }}</th>
                  <td>{{ item.level? item.level.name : '' }}</td>
                </tr>
              </table>
          </div>
          <div class="text-right" >
            <a href="#" [routerLink]="['/adminision/application/', item.id]" style="margin: 5px" ><i class="fa fa-edit btn btn-warning btn-sm material-shadow" ></i></a>

            <a href="#" [routerLink]="['/adminision/application/show/', item.id]" style="margin: 5px" ><i class="fa fa-desktop btn btn-success btn-sm material-shadow" ></i></a>

            <button
            *ngIf="item.can_convert_to_student"
            class="btn btn-primary btn-sm material-shadow"
            (click)="enrollStudent(item.id)"
            [disabled]="isEntrollSubmit"
            style="margin: 5px" ><i class="fa" [ngClass]="{'fa-user-circle': !isEntrollSubmit, 'fa-spin fa-spinner': isEntrollSubmit}" ></i>  {{ "enroll student" | trans }} </button>

            <!--
            <a
            *ngIf="!item.can_convert_to_student"
            href="#"
            [routerLink]="['/account/safe/', item.id]"
            style="margin: 5px"
            class="material-shadow fa fa-money btn w3-indigo btn-sm" > {{ "pay" | trans }} </a>
            -->
          </div>
      </div>
    </div>
  </ng-container>



</div>
<br>
<div class="text-center w3-center" >
    <nav aria-label="Page navigation">
        <ul class="pagination">
          <li>
            <a   class="" [ngClass]="{'disabled': !resources.prev_page}" (click)="loadResources(resources.prev_page)" aria-label="Previous">
              <span aria-hidden="true">&laquo;</span>
            </a>
          </li>
          <li *ngFor="let item of resources.pages_arr"  >
            <a class="" [ngClass]="{'active': resources.current_page == item}"  (click)="loadResources(item)">{{ item }}</a>
          </li>
          <li>
            <a   class="" [ngClass]="{'disabled': !resources.next_page}"  (click)="loadResources(resources.next_page)" aria-label="Next">
              <span aria-hidden="true">&raquo;</span>
            </a>
          </li>
        </ul>
      </nav>
</div>


<!-- remove modal -->
<div class="w3-modal w3-block" *ngIf="showRemoveModal"  role="dialog">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title">{{ "remove applications" | trans }}</h4>
        </div>
        <div class="modal-body text-center">
            <i class="fa fa-spinner fa-spin w3-jumbo w3-text-indigo w3-center" ></i>
            <br>
            {{ trashList.size() }} - {{ "removed" | trans }} {{ trashList.size() + removed.length }}
        </div>
        <div class="modal-footer">
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
  </div><!-- /.modal -->

